# 港股技术分析代理 (HK Stock Technical Analyst)

🚀 **专门针对港股的量化分析AI代理，追求高Sharpe Ratio的交易策略**

## 🎯 核心特色

- **高Sharpe Ratio策略**: 目标Sharpe Ratio > 1.5，强调风险调整后回报最大化
- **港股专业化**: 针对港股市场高波动性和流动性特点优化
- **全面技术分析**: 集成MA、RSI、MACD等经典技术指标
- **智能信号生成**: 自动识别买入/卖出时机，避免超买超卖陷阱
- **风险管理**: 内置止损建议和仓位管理策略

## 📊 技术指标

### 核心指标
- **20日移动平均线 (MA20)**: 趋势判断基准
- **14日相对强弱指数 (RSI)**: 超买超卖识别
- **MACD指标**: 趋势转换信号

### 信号逻辑
- **买入条件**: Close > MA20 且 RSI < 70 且 RSI > 30 且 MACD金叉
- **卖出条件**: RSI > 80 或 Close < MA20*0.95 或 MACD死叉

## 🔧 使用方法

### 基本用法

```python
from hk_stock_analyst_simple import HKStockTechnicalAnalyst

# 创建分析器实例
analyst = HKStockTechnicalAnalyst()

# 准备股票数据
stock_data = {
    "stock": "0700.HK",  # 股票代码
    "close_prices": [100, 102, 98, 105, ...],  # 收盘价列表
    "volumes": [1000000, 1200000, ...]  # 成交量列表（可选）
}

# 执行分析
result = analyst.analyze(stock_data)
print(result)
```

### 输入数据格式

```json
{
    "stock": "0700.HK",
    "close_prices": [580, 585, 578, 590, 595, ...],
    "volumes": [1000000, 1200000, 800000, ...]
}
```

**注意**: 至少需要20个交易日的数据进行有效分析

## 📈 输出格式

```json
{
    "stock": "0700.HK",
    "signals": [0, 0, 1, -1, 0, ...],  // 1=买入, -1=卖出, 0=持有
    "rsi_avg": 70.34,                  // 平均RSI
    "sharpe_contribution": 0.163,      // Sharpe贡献值 (-1到1)
    "recommendations": [               // 交易建议
        "技术指标显示买入信号，当前RSI=68.0，建议关注入场机会",
        "建议设置止损位于634.60（当前价格95%）",
        "港股市场波动较大，建议控制单次交易仓位不超过总资金20%"
    ],
    "technical_indicators": {          // 当前技术指标
        "current_price": 668,
        "ma_20": 642.55,
        "current_rsi": 67.98,
        "macd": 18.4974
    },
    "risk_assessment": {               // 风险评估
        "volatility_level": "低",      // 低/中等/高
        "trend_strength": "弱"         // 强/弱
    }
}
```

## 🎪 运行示例

### 快速测试
```bash
python3 hk_stock_analyst_simple.py
```

### 完整演示
```bash
python3 demo_analysis.py
```

演示包含：
- 腾讯控股(0700.HK) - 上升趋势分析
- 阿里巴巴-SW(9988.HK) - 震荡行情分析  
- 比亚迪股份(1211.HK) - 高波动分析

## 📋 策略评级

| Sharpe贡献值 | 评级 | 建议 |
|-------------|------|------|
| > 0.5 | 优秀 🟢 | 积极关注买入机会 |
| 0 ~ 0.5 | 良好 🟡 | 可适度关注，谨慎操作 |
| -0.5 ~ 0 | 一般 🟠 | 观望为主 |
| < -0.5 | 较差 🔴 | 建议回避 |

## ⚠️ 风险提示

1. **仅供参考**: 本工具仅提供技术分析参考，不构成投资建议
2. **港股特色**: 已考虑港股高波动性，但仍需注意市场风险
3. **数据要求**: 建议使用实时或准实时数据获得最佳效果
4. **仓位管理**: 建议单次交易不超过总资金20%
5. **止损纪律**: 严格执行止损策略，避免重大损失

## 🔄 更新日志

- **v1.0**: 基础技术分析功能，支持MA、RSI、MACD指标
- **v1.1**: 优化信号生成逻辑，增加港股特色建议
- **v1.2**: 完善风险评估，增加Sharpe贡献计算

## 📞 技术支持

如有问题或建议，请通过以下方式联系：
- 创建Issue反馈问题
- 提交Pull Request改进代码

---

**免责声明**: 本工具仅用于技术分析学习和研究，不构成任何投资建议。投资有风险，入市需谨慎。