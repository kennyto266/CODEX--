# Phase 1：代码清理重组 (Code Cleanup and Reorganization)

## 为什么 (Why)

当前 CODEX 系统存在严重的代码组织问题：
- **根目录混乱**: 110 个 Python 文件，应该 <15 个
- **功能重复**: 30% 的代码重复，包括：
  - 10 个冗余的系统启动脚本
  - 7 个 HKEX 数据实现
  - 13 个重复的 Agent 实现
  - 4 个不同的回测引擎
- **文件散乱**: 40+ 个测试文件、策略文件、CLI 工具分散在根目录
- **难以维护**: 修改功能需要在多个地方做相同改动

## 是什么 (What)

本变更将代码库从混乱状态重组为清晰结构：

| 方面 | 当前 | 目标 |
|------|------|------|
| Python 文件总数 | 445 | <380 |
| 根目录文件 | 110 | <50 |
| 代码重复 | 30% | <10% |
| 最大单个文件 | 107K | <20K |

## 怎样做 (How)

分 4 个阶段，共 6 周：

1. **Phase 1** (第 1-2 周): 根目录和基础清理 ← **本变更**
   - 删除 10 个冗余系统文件
   - 移动 40+ 个测试文件到 tests/
   - 整理策略、数据、Telegram 文件

2. **Phase 2** (第 3-4 周): 数据层和代理层整合
   - 整合 7 个 HKEX 实现
   - 合并 13 个 Agent 重复代码

3. **Phase 3** (第 5 周): 模块拆分
   - 拆分大文件 (>40K)

4. **Phase 4** (第 6 周): 文档和测试
   - 完善文档、测试覆盖

## 文档

- **design.md** - 架构和设计决策
- **proposal.md** - 完整变更提案
- **tasks.md** - 45 个具体实现任务
- **specs/code-organization/spec.md** - 代码组织规范

## 立即行动

1. 审核本变更提案
2. 批准后开始第 1 个任务：删除 10 个冗余文件
3. 每个任务完成后运行测试验证
