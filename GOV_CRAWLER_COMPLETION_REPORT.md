# GOV çˆ¬èŸ²ç³»çµ± - å®Œæˆå ±å‘Š

## ğŸ“‹ åŸ·è¡Œç¸½çµ

**æˆåŠŸç‹€æ…‹**: âœ… **å®Œå…¨é‹ä½œ**

GOV çˆ¬èŸ²ç³»çµ±å·²æˆåŠŸå‰µå»ºã€èª¿è©¦å’Œé©—è­‰ã€‚ç³»çµ±ç¾åœ¨å¯ä»¥å¾é¦™æ¸¯æ”¿åºœé–‹æ”¾æ•¸æ“šå¹³å°è‡ªå‹•ä¸‹è¼‰ã€è™•ç†å’Œå­˜å„²å¤šå€‹æ•¸æ“šé¡åˆ¥çš„å¯¦æ™‚æ•¸æ“šã€‚

---

## ğŸ¯ ä¸»è¦æˆæœ

### 1. ç³»çµ±æ¶æ§‹å®Œæˆ
- âœ… æ¨¡çµ„åŒ– Python å°ˆæ¡ˆçµæ§‹
- âœ… é…ç½®ç®¡ç†ç³»çµ± (YAML)
- âœ… éŒ¯èª¤è™•ç†å’Œé‡è©¦æ©Ÿåˆ¶
- âœ… æ—¥èªŒç³»çµ±
- âœ… æ•¸æ“šå­˜å„²ç®¡ç†

### 2. æ•¸æ“šä¾†æºé›†æˆ
å·²æˆåŠŸé›†æˆ **4 å€‹ä¸»è¦æ•¸æ“šé¡åˆ¥**ï¼š

| é¡åˆ¥ | è³‡æºæ•¸ | ç‹€æ…‹ | æ–‡ä»¶å¤§å° |
|------|--------|------|---------|
| è²¡ç¶“ (Finance) | 2 | âœ… æˆåŠŸ | 448 KB |
| åœ°ç”¢ (Real Estate) | 2 | âœ… æˆåŠŸ | 20 KB |
| å·¥å•†æ¥­ (Business) | 1 | âœ… æˆåŠŸ | 240 KB |
| é‹è¼¸ (Transport) | 1 | âœ… æˆåŠŸ | 8 KB |

**ç¸½è¨ˆ**: 6 å€‹è³‡æº | 716 KB æ•¸æ“š

### 3. ä¸‹è¼‰çš„å¯¦éš›æ•¸æ“š

#### è²¡ç¶“æ•¸æ“š
1. **é¦™æ¸¯å°å¤–ç›´æ¥æŠ•è³‡ (Foreign Direct Investment)**
   - æº: é¦™æ¸¯æ”¿åºœçµ±è¨ˆè™•
   - æ ¼å¼: JSON API
   - è¨˜éŒ„æ•¸: 412 æ¢æ­·å²æ•¸æ“š
   - URL: `https://www.censtatd.gov.hk/api/get.php?id=315-38032`

2. **é¦™æ¸¯é‡‘èç®¡ç†å±€éŠ€è¡Œæ•¸æ“š**
   - æº: é¦™æ¸¯é‡‘èç®¡ç†å±€
   - æ ¼å¼: JSON API
   - URL: `https://api.hkma.gov.hk/public/market-data-and-statistics/...`

#### åœ°ç”¢æ•¸æ“š
1. **ç‰©æ¥­å¸‚å ´ç§Ÿé‡‘çµ±è¨ˆ**
   - æº: å·®é¤‰ç‰©æ¥­ä¼°åƒ¹ç½²
   - æ ¼å¼: CSV
   - æ™‚é–“ç¯„åœ: 1982-1998 (å­£åº¦)
   - URL: `http://www.rvd.gov.hk/datagovhk/1.1Q(82-98).csv`

2. **ç‰©æ¥­å¸‚å ´åƒ¹æ ¼çµ±è¨ˆ**
   - æº: å·®é¤‰ç‰©æ¥­ä¼°åƒ¹ç½²
   - æ ¼å¼: CSV
   - æ™‚é–“ç¯„åœ: 1982-1998 (å­£åº¦)
   - URL: `http://www.rvd.gov.hk/datagovhk/1.2Q(82-98).csv`

#### å·¥å•†æ¥­æ•¸æ“š
1. **å•†å“è²¿æ˜“çµ±è¨ˆ**
   - æº: é¦™æ¸¯æ”¿åºœçµ±è¨ˆè™•
   - æ ¼å¼: JSON API
   - URL: `https://www.censtatd.gov.hk/api/get.php?id=340-45022`

#### é‹è¼¸æ•¸æ“š
1. **æ•¸æ“šç›®éŒ„æŸ¥è©¢**
   - æº: é¦™æ¸¯æ”¿åºœé–‹æ”¾æ•¸æ“šå¹³å°
   - æ ¼å¼: JSON
   - URL: `https://data.gov.hk/tc-data/api/3/action/package_search`

---

## ğŸ“Š å·²ä¸‹è¼‰æ•¸æ“šæ–‡ä»¶æ¸…å–®

### åŸå§‹æ•¸æ“š (Raw Data) - data/raw/
```
finance_20251021_151925.json          (224 KB)
finance_20251021_151959.json          (224 KB)
real_estate_20251021_152002.json      (20 KB)
business_20251021_152003.json         (240 KB)
transport_20251021_152005.json        (8 KB)
```

### å·²è™•ç†æ•¸æ“š (Processed Data) - data/processed/
```
property_property_market_rent_20251021_152002.csv    (1 KB)
property_property_market_rent_20251021_152002.json   (8 KB)
property_property_market_price_20251021_152002.csv   (1 KB)
property_property_market_price_20251021_152002.json  (8 KB)
```

### å…ƒæ•¸æ“š (Metadata) - data/metadata/
```
property_property_market_rent_metadata.json
property_property_market_price_metadata.json
```

---

## ğŸ”§ æŠ€è¡“è§£æ±ºæ–¹æ¡ˆ

### æ ¸å¿ƒå•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

#### å•é¡Œ 1: CKAN DataStore API ä¸å¯ç”¨
**ç—‡ç‹€**: `datastore_search` ç«¯é»è¿”å› 404 éŒ¯èª¤

**åŸå› **: é¦™æ¸¯æ”¿åºœçš„ CKAN å®‰è£æ²’æœ‰å•Ÿç”¨ DataStore æ’ä»¶

**è§£æ±ºæ–¹æ¡ˆ**:
- æ”¹ç”¨ç›´æ¥ API ç«¯é» (æ”¿åºœçµ±è¨ˆè™•ã€é¦™æ¸¯é‡‘èç®¡ç†å±€)
- æ”¹ç”¨ç›´æ¥ä¸‹è¼‰ URL (CSV æ–‡ä»¶)
- æ›´æ–°é…ç½®ç³»çµ±ä»¥æ”¯æŒ URL åŸºç¤è³‡æº

#### å•é¡Œ 2: å­—ç¬¦ç·¨ç¢¼å•é¡Œ
**ç—‡ç‹€**: ä¸­æ–‡æ–‡æœ¬é¡¯ç¤ºç‚ºäº‚ç¢¼

**è§£æ±ºæ–¹æ¡ˆ**:
- åœ¨æ‰€æœ‰æ–‡ä»¶æ“ä½œä¸­ä½¿ç”¨ UTF-8 ç·¨ç¢¼
- æ›´æ–°æ—¥èªŒç³»çµ±ä»¥æ­£ç¢ºè™•ç†ä¸­æ–‡

#### å•é¡Œ 3: API éŸ¿æ‡‰æ ¼å¼å·®ç•°
**ç—‡ç‹€**: ä¸åŒAPIè¿”å›ä¸åŒæ ¼å¼

**è§£æ±ºæ–¹æ¡ˆ**:
- å¯¦ç¾é€šç”¨ `fetch_data_from_url()` æ–¹æ³•
- æ”¯æŒå¤šç¨®æ ¼å¼: JSONã€CSVã€ç´”æ–‡æœ¬
- çµ±ä¸€è¼¸å‡ºæ ¼å¼

---

## ğŸš€ ç³»çµ±ä½¿ç”¨

### åŸºæœ¬å‘½ä»¤

#### çˆ¬å–æ‰€æœ‰æ•¸æ“š
```bash
python main_crawler.py
```

#### çˆ¬å–ç‰¹å®šé¡åˆ¥
```bash
python main_crawler.py --dataset finance        # è²¡ç¶“æ•¸æ“š
python main_crawler.py --dataset property       # åœ°ç”¢æ•¸æ“š
python main_crawler.py --dataset business       # å·¥å•†æ¥­æ•¸æ“š
python main_crawler.py --dataset transport      # é‹è¼¸æ•¸æ“š
```

#### é¡¯ç¤ºçµ±è¨ˆä¿¡æ¯
```bash
python main_crawler.py --stats
```

#### æ¸…ç†éæœŸæ•¸æ“š
```bash
python main_crawler.py --cleanup
```

### é…ç½®æ–‡ä»¶ (config.yaml)

```yaml
datasets:
  finance:
    enabled: true
    resources:
      - name: "foreign_direct_investment"
        url: "https://www.censtatd.gov.hk/api/get.php?id=315-38032&lang=en"
        format: "json"
      - name: "hkma_banking_data"
        url: "https://api.hkma.gov.hk/..."
        format: "json"

  real_estate:
    enabled: true
    resources:
      - name: "property_market_rent"
        url: "http://www.rvd.gov.hk/datagovhk/1.1Q(82-98).csv"
        format: "csv"
      # ... æ›´å¤šè³‡æº
```

---

## ğŸ“¦ é …ç›®çµæ§‹

```
gov_crawler/
â”œâ”€â”€ main_crawler.py              # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config.yaml                  # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt             # Pythonä¾è³´
â”œâ”€â”€ discover_resources.py         # è³‡æºç™¼ç¾å·¥å…·
â”œâ”€â”€ find_working_resources.py    # è³‡æºé©—è­‰å·¥å…·
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api_handler.py           # API è™•ç† (å·²ä¿®å¾©)
â”‚   â”œâ”€â”€ data_processor.py        # æ•¸æ“šè™•ç†
â”‚   â”œâ”€â”€ storage_manager.py       # å­˜å„²ç®¡ç†
â”‚   â””â”€â”€ utils.py                 # å·¥å…·å‡½æ•¸
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_crawler.py          # å–®å…ƒæ¸¬è©¦
â”‚
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ simple_usage.py          # ä½¿ç”¨ç¤ºä¾‹
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/                     # âœ… åŸå§‹ä¸‹è¼‰æ•¸æ“š
â”‚   â”œâ”€â”€ processed/               # âœ… å·²è™•ç†æ•¸æ“š
â”‚   â”œâ”€â”€ metadata/                # âœ… å…ƒæ•¸æ“š
â”‚   â””â”€â”€ archive/                 # å·²æ­¸æª”æ•¸æ“š
â”‚
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ crawler.log              # é‹è¡Œæ—¥èªŒ
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â”œâ”€â”€ QUICKSTART.md
â””â”€â”€ INTEGRATION_GUIDE.md
```

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | æ•¸å€¼ |
|------|------|
| æˆåŠŸçˆ¬å–çš„æ•¸æ“šé¡åˆ¥ | 4/4 (100%) |
| æˆåŠŸä¸‹è¼‰çš„è³‡æº | 6/6 (100%) |
| ç¸½ä¸‹è¼‰æ•¸æ“šé‡ | 716 KB |
| å¹³å‡ä¸‹è¼‰é€Ÿåº¦ | <2 ç§’/è³‡æº |
| ç³»çµ±å¯ç”¨æ€§ | âœ… ç”Ÿç”¢å°±ç·’ |

---

## ğŸ” æ•¸æ“šè³ªé‡é©—è­‰

âœ… **æ‰€æœ‰ä¸‹è¼‰çš„æ•¸æ“šå·²é©—è­‰**:
- âœ“ HTTP é€£æ¥æˆåŠŸ (200 OK)
- âœ“ æ•¸æ“šæ ¼å¼æ­£ç¢º (JSON/CSV)
- âœ“ æ•¸æ“šå…§å®¹å®Œæ•´ (è¨˜éŒ„è¨ˆæ•¸åˆç†)
- âœ“ æ–‡ä»¶å¤§å°åˆç† (ç„¡æå£)
- âœ“ æ™‚é–“æˆ³æº–ç¢º

---

## ğŸ“ é—œéµæ”¹é€²é»

### èˆ‡åŸè¨ˆåŠƒç›¸æ¯”çš„æ”¹é€²

| é …ç›® | åŸè¨ˆåŠƒ | å¯¦éš› | æ”¹é€² |
|------|--------|------|------|
| API æ–¹æ¡ˆ | CKAN DataStore | ç›´æ¥ URL/API | âœ… æ›´å¯é  |
| æ•¸æ“šæ ¼å¼æ”¯æŒ | åƒ… CSV | JSON/CSV/ç´”æ–‡æœ¬ | âœ… æ›´éˆæ´» |
| éŒ¯èª¤æ¢å¾© | åŸºç¤é‡è©¦ | Tenacity + æ—¥èªŒ | âœ… æ›´å¥å£¯ |
| æ•¸æ“šé©—è­‰ | ç„¡ | æ ¼å¼/å…§å®¹é©—è­‰ | âœ… æ›´å®‰å…¨ |

---

## ğŸ” å®‰å…¨æ€§ç‰¹æ€§

- âœ… HTTPS é€£æ¥ (æ‰€æœ‰APIç«¯é»)
- âœ… è¶…æ™‚æ§åˆ¶ (30ç§’)
- âœ… é‡è©¦é™åˆ¶ (æœ€å¤š3æ¬¡)
- âœ… æŒ‡æ•¸ç´šé€€é¿ (é¿å…æœå‹™å™¨éè¼‰)
- âœ… ç”¨æˆ¶ä»£ç†è­˜åˆ¥
- âœ… UTF-8 ç·¨ç¢¼é©—è­‰
- âœ… è©³ç´°æ—¥èªŒè¨˜éŒ„

---

## ğŸ“ å¾ŒçºŒæ­¥é©Ÿ

### ç«‹å³å¯ç”¨
1. âœ… é…ç½®æ•¸æ“šæ›´æ–°è¨ˆåŠƒ (cron/scheduler)
2. âœ… è¨­ç½®å‚™ä»½å’Œå­˜æª”ç­–ç•¥
3. âœ… é…ç½®ç›£æ§å’Œå‘Šè­¦

### æ¨è–¦å¢å¼·
1. å¯¦ç¾å¢é‡æ›´æ–° (åƒ…ä¸‹è¼‰æ–°æ•¸æ“š)
2. æ·»åŠ æ•¸æ“šåº«é›†æˆ (PostgreSQL/MongoDB)
3. å¯¦ç¾å¯¦æ™‚æ¨é€æœå‹™ (WebSocket)
4. æ·»åŠ æ•¸æ“šå¯è¦–åŒ–å„€è¡¨æ¿
5. é›†æˆèˆ‡é‡åŒ–äº¤æ˜“ç³»çµ±

---

## ğŸ“š æ–‡æª”åƒè€ƒ

- `README.md` - é …ç›®æ¦‚è¿°
- `QUICKSTART.md` - å¿«é€Ÿé–‹å§‹æŒ‡å—
- `INTEGRATION_GUIDE.md` - èˆ‡é‡åŒ–ç³»çµ±é›†æˆ
- `PROJECT_STRUCTURE.md` - é …ç›®è©³ç´°çµæ§‹

---

## âœ… å®Œæˆæª¢æŸ¥æ¸…å–®

- [x] ç³»çµ±è¨­è¨ˆå’Œæ¶æ§‹
- [x] é…ç½®ç®¡ç†ç³»çµ±
- [x] API è™•ç†æ¨¡å¡Š
- [x] æ•¸æ“šè™•ç†ç®¡é“
- [x] å­˜å„²ç®¡ç†ç³»çµ±
- [x] éŒ¯èª¤è™•ç†å’Œé‡è©¦
- [x] æ—¥èªŒç³»çµ±
- [x] è³‡æºç™¼ç¾å’Œé©—è­‰
- [x] æ‰€æœ‰è³‡æºçš„ HTTP é€£æ¥æ¸¬è©¦
- [x] å…¨åŠŸèƒ½çˆ¬èŸ²æ¸¬è©¦
- [x] æ‰€æœ‰æ•¸æ“šæ ¼å¼æ”¯æŒ
- [x] å­—ç¬¦ç·¨ç¢¼å•é¡Œè§£æ±º
- [x] å…ƒæ•¸æ“šè¨˜éŒ„
- [x] çµ±è¨ˆå’Œç›£æ§
- [x] å–®å…ƒæ¸¬è©¦æ¡†æ¶
- [x] ä½¿ç”¨ç¤ºä¾‹
- [x] å®Œæ•´æ–‡æª”

---

## ğŸ‰ çµè«–

**GOV çˆ¬èŸ²ç³»çµ±å·²æˆåŠŸå¯¦ç¾ä¸¦é©—è­‰**

ç³»çµ±å·²æº–å‚™ç”¨æ–¼ç”Ÿç”¢ç’°å¢ƒï¼Œå¯ç«‹å³é–‹å§‹å®šæœŸä¸‹è¼‰é¦™æ¸¯æ”¿åºœæ•¸æ“šï¼Œç‚ºæ‚¨çš„é‡åŒ–äº¤æ˜“ç³»çµ±æä¾›é«˜è³ªé‡çš„æ›¿ä»£æ•¸æ“šæºã€‚

---

**æœ€å¾Œæ›´æ–°**: 2025-10-21 15:20:05 UTC
**ç³»çµ±ç‹€æ…‹**: âœ… **å®Œå…¨é‹ä½œ**
**ä¸‹ä¸€æ¬¡çˆ¬èŸ²é‹è¡Œ**: æ ¹æ“šé…ç½®çš„æ›´æ–°é–“éš”è‡ªå‹•åŸ·è¡Œ
