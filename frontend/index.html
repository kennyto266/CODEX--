<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人量化交易系统</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <div class="app">
        <!-- 导航栏 -->
        <nav class="navbar">
            <div class="nav-brand">
                <h1>📈 个人量化交易系统</h1>
            </div>
            <div class="nav-menu">
                <a href="#dashboard" class="nav-item active" data-page="dashboard">首页</a>
                <a href="#analysis" class="nav-item" data-page="analysis">股票分析</a>
                <a href="#backtest" class="nav-item" data-page="backtest">策略回测</a>
                <a href="#portfolio" class="nav-item" data-page="portfolio">投资组合</a>
                <a href="#settings" class="nav-item" data-page="settings">设置</a>
            </div>
        </nav>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 首页 -->
            <div id="dashboard" class="page active">
                <div class="page-header">
                    <h2>欢迎使用个人量化交易系统</h2>
                    <p>专业的港股量化分析工具，助您做出明智的投资决策</p>
                </div>
                
                <div class="quick-actions">
                    <div class="action-card">
                        <h3>🚀 快速分析</h3>
                        <p>选择股票进行技术分析</p>
                        <button class="btn-primary" onclick="startQuickAnalysis()">开始分析</button>
                    </div>
                    <div class="action-card">
                        <h3>📊 策略回测</h3>
                        <p>测试您的交易策略</p>
                        <button class="btn-secondary" onclick="startBacktest()">开始回测</button>
                    </div>
                    <div class="action-card">
                        <h3>💼 投资组合</h3>
                        <p>管理您的投资组合</p>
                        <button class="btn-secondary" onclick="viewPortfolio()">查看组合</button>
                    </div>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <h4>系统状态</h4>
                        <div class="status-indicator online">在线</div>
                        <p>所有服务正常运行</p>
                    </div>
                    <div class="stat-card">
                        <h4>今日分析</h4>
                        <div class="stat-number">12</div>
                        <p>已完成分析次数</p>
                    </div>
                    <div class="stat-card">
                        <h4>活跃策略</h4>
                        <div class="stat-number">3</div>
                        <p>正在运行的策略</p>
                    </div>
                </div>
            </div>

            <!-- 股票分析页面 -->
            <div id="analysis" class="page">
                <div class="page-header">
                    <h2>股票技术分析</h2>
                    <p>专业的港股技术指标分析</p>
                </div>
                
                <div class="analysis-controls">
                    <div class="search-box">
                        <input type="text" id="stock-search" placeholder="输入股票代码或名称" />
                        <button class="btn-primary" onclick="searchStock()">搜索</button>
                    </div>
                    <div class="time-range">
                        <select id="time-range">
                            <option value="1mo">1个月</option>
                            <option value="3mo">3个月</option>
                            <option value="6mo">6个月</option>
                            <option value="1y">1年</option>
                        </select>
                    </div>
                </div>

                <div class="analysis-content">
                    <div class="chart-container">
                        <canvas id="price-chart"></canvas>
                    </div>
                    <div class="indicators-panel">
                        <h3>技术指标</h3>
                        <div id="indicators-display">
                            <p>请选择股票进行分析</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 策略回测页面 -->
            <div id="backtest" class="page">
                <div class="page-header">
                    <h2>策略回测</h2>
                    <p>测试您的交易策略历史表现</p>
                </div>
                
                <div class="backtest-controls">
                    <div class="control-group">
                        <label>选择策略</label>
                        <select id="strategy-select">
                            <option value="ma_cross">移动平均交叉策略</option>
                            <option value="rsi_oversold">RSI超卖策略</option>
                            <option value="bollinger_bands">布林带策略</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>股票代码</label>
                        <input type="text" id="backtest-symbol" placeholder="如: 0700.HK" />
                    </div>
                    <div class="control-group">
                        <label>回测期间</label>
                        <input type="date" id="start-date" />
                        <input type="date" id="end-date" />
                    </div>
                    <button class="btn-primary" onclick="runBacktest()">开始回测</button>
                </div>

                <div class="backtest-results" id="backtest-results">
                    <p>请配置参数并开始回测</p>
                </div>
            </div>

            <!-- 投资组合页面 -->
            <div id="portfolio" class="page">
                <div class="page-header">
                    <h2>投资组合管理</h2>
                    <p>管理您的投资组合和持仓</p>
                </div>
                
                <div class="portfolio-actions">
                    <button class="btn-primary" onclick="createPortfolio()">创建投资组合</button>
                    <button class="btn-secondary" onclick="refreshPortfolios()">刷新列表</button>
                </div>

                <div class="portfolios-list" id="portfolios-list">
                    <p>正在加载投资组合...</p>
                </div>
            </div>

            <!-- 设置页面 -->
            <div id="settings" class="page">
                <div class="page-header">
                    <h2>系统设置</h2>
                    <p>配置您的个人偏好</p>
                </div>
                
                <div class="settings-content">
                    <div class="setting-group">
                        <h3>数据源设置</h3>
                        <div class="setting-item">
                            <label>默认数据源</label>
                            <select>
                                <option value="yfinance">Yahoo Finance</option>
                                <option value="local">本地数据</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>分析设置</h3>
                        <div class="setting-item">
                            <label>默认分析周期</label>
                            <select>
                                <option value="1mo">1个月</option>
                                <option value="3mo">3个月</option>
                                <option value="6mo">6个月</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 加载提示 -->
    <div id="loading" class="loading hidden">
        <div class="loading-spinner"></div>
        <p>正在处理中...</p>
    </div>

    <!-- 消息提示 -->
    <div id="message" class="message hidden">
        <span id="message-text"></span>
        <button onclick="hideMessage()">×</button>
    </div>

    <script src="/static/js/main.js"></script>
</body>
</html>
