# VectorBT ç­–ç•¥å›æ¸¬æ¨™æº–æ¡†æ¶ - ä½¿ç”¨æŒ‡å—

## ğŸ¯ é …ç›®å®Œæˆæ‘˜è¦

åŸºæ–¼æ‚¨çš„vectorbtéœ€æ±‚å’ŒBMADå·¥ä½œæµç¨‹æ¶æ§‹ï¼Œæˆ‘å€‘å·²ç¶“æˆåŠŸå‰µå»ºäº†å®Œæ•´çš„**æ¸¯è‚¡é‡åŒ–äº¤æ˜“ç­–ç•¥å›æ¸¬æ¨™æº–æ¡†æ¶**ï¼

## ğŸ“¦ å‰µå»ºçš„å·¥ä½œæµç¨‹

### 1. **vectorbt-strategy-framework** - æ ¸å¿ƒç­–ç•¥å›æ¸¬æ¡†æ¶
- ä½ç½®ï¼š`bmad/core/workflows/vectorbt-strategy-framework/`
- åŠŸèƒ½ï¼šå®Œæ•´çš„ç­–ç•¥é–‹ç™¼å’Œå›æ¸¬æ¡†æ¶
- æ”¯æŒï¼š11ç¨®æŠ€è¡“æŒ‡æ¨™ Ã— 3ç¨®ç­–ç•¥é¡å‹

### 2. **vectorbt-optimizer** - å¤šé€²ç¨‹åƒæ•¸å„ªåŒ–æ¡†æ¶
- ä½ç½®ï¼š`bmad/core/workflows/vectorbt-optimizer/`
- åŠŸèƒ½ï¼šä¸¦è¡Œåƒæ•¸å„ªåŒ–ï¼Œå·²ä¿®å¾©å¤šé€²ç¨‹åºåˆ—åŒ–å•é¡Œ
- æ”¹é€²ï¼šâœ… ä¿®å¾© `AttributeError` å’Œ `UnicodeEncodeError`

### 3. **vectorbt-quick-start** - å¿«é€Ÿç­–ç•¥æ¨¡æ¿æ¡†æ¶
- ä½ç½®ï¼š`bmad/core/workflows/vectorbt-quick-start/`
- åŠŸèƒ½ï¼š4å€‹é é…ç½®ç­–ç•¥æ¨¡æ¿ï¼Œä¸€éµå›æ¸¬
- æ¨¡æ¿ï¼šMAäº¤å‰ã€RSIåè½‰ã€BBæ“ å£“ã€MACDè¶¨å‹¢

## âœ… å·²è§£æ±ºçš„é—œéµå•é¡Œ

### ğŸ”§ å•é¡Œ1ï¼šå¤šé€²ç¨‹åºåˆ—åŒ–éŒ¯èª¤
```python
# ä¿®å¾©å‰ (éŒ¯èª¤)
AttributeError: Can't get local object 'optimize_indicator.<locals>.optimize_single'

# ä¿®å¾©å¾Œ (è§£æ±ºæ–¹æ¡ˆ)
def optimize_single_params(indicator, params, data):
    # æ¨¡å¡Šç´šå‡½æ•¸ï¼Œé¿å…åµŒå¥—åºåˆ—åŒ–å•é¡Œ
    pass
```
**è§£æ±ºæ–¹æ¡ˆ**ï¼šé‡æ§‹ç‚ºæ¨¡å¡Šç´šå‡½æ•¸ + cloudpickleåºåˆ—åŒ–

### ğŸ”§ å•é¡Œ2ï¼šç·¨ç¢¼éŒ¯èª¤
```python
# ä¿®å¾©å‰ (éŒ¯èª¤)
UnicodeEncodeError: 'cp950' codec can't encode character '\u2705'

# ä¿®å¾©å¾Œ (è§£æ±ºæ–¹æ¡ˆ)
# ç§»é™¤emojiå­—ç¬¦ï¼Œä½¿ç”¨æ¨™æº–æ–‡æœ¬
print("[OK] å„ªåŒ–å®Œæˆ")
```
**è§£æ±ºæ–¹æ¡ˆ**ï¼šç§»é™¤emojiï¼Œæ”¯æ´UTF-8ç·¨ç¢¼

### ğŸ”§ å•é¡Œ3ï¼šæ•¸æ“šæºçµ±ä¸€åŒ–
```python
# æ•´åˆOpenSpecçµ±ä¸€API
base_url: 'http://18.180.162.113:9191'
endpoint: '/inst/getInst'
symbols: ['0700.hk', '0388.hk', '1398.hk', '0939.hk', '3988.hk']
```
**è§£æ±ºæ–¹æ¡ˆ**ï¼šOpenSpecæ¨™æº–åŒ–æ•¸æ“šæºé…ç½®

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æ–¹æ³•1ï¼šä½¿ç”¨BMADå·¥ä½œæµç¨‹ç³»çµ±
```bash
# é‹è¡Œå¿«é€Ÿé–‹å§‹æ¨¡æ¿
python -m bmad.core.workflows.vectorbt-quick-start

# é‹è¡Œå®Œæ•´ç­–ç•¥æ¡†æ¶
python -m bmad.core.workflows.vectorbt-strategy-framework

# é‹è¡Œåƒæ•¸å„ªåŒ–
python -m bmad.core.workflows.vectorbt-optimizer
```

### æ–¹æ³•2ï¼šç›´æ¥ä½¿ç”¨Pythonä»£ç¢¼
```python
import vectorbt as vbt
import pandas as pd

# 1. ç²å–æ•¸æ“š (å¾OpenSpec API)
def fetch_hkex_data(symbol):
    import requests
    response = requests.get(
        'http://18.180.162.113:9191/inst/getInst',
        params={'symbol': symbol, 'duration': 1825}
    )
    return pd.DataFrame(response.json())

# 2. å‰µå»ºç­–ç•¥
def create_ma_strategy(close):
    fast = vbt.MA.run(close, window=10).ma
    slow = vbt.MA.run(close, window=30).ma
    entries = fast.crossed_above(slow)
    exits = fast.crossed_below(slow)
    return entries, exits

# 3. é‹è¡Œå›æ¸¬
df = fetch_hkex_data('0700.hk')
close = df.set_index('Date')['Close']
entries, exits = create_ma_strategy(close)

portfolio = vbt.Portfolio.from_signals(
    close, entries, exits,
    init_cash=100000,
    fees=0.0005
)

# 4. æŸ¥çœ‹çµæœ
print(portfolio.stats())
```

## ğŸ“Š æ”¯æŒçš„æŒ‡æ¨™

| é¡åˆ¥ | æŒ‡æ¨™ | ç”¨é€” | åƒæ•¸çµ„åˆæ•¸ |
|------|------|------|-----------|
| åŸºç¤ | MA | è¶¨å‹¢è·Ÿéš¨ | ~100å€‹ |
| åŸºç¤ | RSI | è¶…è²·è¶…è³£ | ~50å€‹ |
| åŸºç¤ | MACD | è¶¨å‹¢ç¢ºèª | ~100å€‹ |
| åŸºç¤ | BB | æ³¢å‹•ç‡ | ~50å€‹ |
| é«˜ç´š | KDJ | K/Däº¤å‰ | ~400å€‹ |
| é«˜ç´š | CCI | æ¥µç«¯åƒ¹æ ¼ | ~100å€‹ |
| é«˜ç´š | ADX | è¶¨å‹¢å¼·åº¦ | ~32å€‹ |
| é«˜ç´š | ATR | æ³¢å‹•ç‡çªç ´ | ~50å€‹ |
| é«˜ç´š | OBV | æˆäº¤é‡è¶¨å‹¢ | ~10å€‹ |
| é«˜ç´š | Ichimoku | å¤šå› å­ | ~27å€‹ |
| é«˜ç´š | Parabolic SAR | åè½‰ä¿¡è™Ÿ | ~150å€‹ |

**ç¸½è¨ˆ**ï¼š1000+ åƒæ•¸çµ„åˆ

## ğŸ¯ ä½¿ç”¨å ´æ™¯

### å ´æ™¯1ï¼šç­–ç•¥å¿«é€Ÿé©—è­‰
```
é¸æ“‡ï¼švectorbt-quick-start
æ­¥é©Ÿï¼šé¸æ¨¡æ¿ â†’ é¸è‚¡ç¥¨ â†’ é¸æ™‚é–“ â†’ é‹è¡Œ
æ™‚é–“ï¼š< 1åˆ†é˜
çµæœï¼šå³æ™‚å›æ¸¬å ±å‘Š
```

### å ´æ™¯2ï¼šå®Œæ•´ç­–ç•¥é–‹ç™¼
```
é¸æ“‡ï¼švectorbt-strategy-framework
æ­¥é©Ÿï¼šé¸æŒ‡æ¨™ â†’ é…ç½®åƒæ•¸ â†’ é‹è¡Œå›æ¸¬ â†’ æŸ¥çœ‹å ±å‘Š
æ™‚é–“ï¼š5-10åˆ†é˜
çµæœï¼šè©³ç´°ç¸¾æ•ˆåˆ†æ
```

### å ´æ™¯3ï¼šåƒæ•¸å„ªåŒ–
```
é¸æ“‡ï¼švectorbt-optimizer
æ­¥é©Ÿï¼šé¸æŒ‡æ¨™ â†’ ç”Ÿæˆåƒæ•¸ç¶²æ ¼ â†’ å¤šé€²ç¨‹å„ªåŒ– â†’ æœ€ä½³åƒæ•¸
æ™‚é–“ï¼š10-30åˆ†é˜ (å–æ±ºæ–¼åƒæ•¸çµ„åˆæ•¸)
çµæœï¼šTop 20æœ€ä½³åƒæ•¸çµ„åˆ
```

## ğŸ“ˆ æ€§èƒ½è¡¨ç¾ç¤ºä¾‹

åŸºæ–¼ç¾æœ‰çš„HIBORå„ªåŒ–çµæœï¼š
```
ç­–ç•¥ï¼šHIBORéš”å¤œåˆ©ç‡ + Z-SCORE + RSI + SMA
ç¸½æ”¶ç›Šç‡ï¼š465.84%
Sharpeæ¯”ç‡ï¼š7.75
æœ€å¤§å›æ’¤ï¼š-8.24%
åƒæ•¸çµ„åˆï¼š2160å€‹
```

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            OpenSpec HKEX æ•¸æ“šæº                    â”‚
â”‚         http://18.180.162.113:9191                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            BMAD å·¥ä½œæµç¨‹åŸ·è¡Œå™¨                     â”‚
â”‚   â€¢ vectorbt-strategy-framework                  â”‚
â”‚   â€¢ vectorbt-optimizer                           â”‚
â”‚   â€¢ vectorbt-quick-start                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            VectorBT å‘é‡åŒ–å¼•æ“                     â”‚
â”‚   â€¢ 11ç¨®æŠ€è¡“æŒ‡æ¨™                                  â”‚
â”‚   â€¢ å¤šç­–ç•¥ä¸¦è¡Œå›æ¸¬                                â”‚
â”‚   â€¢ é«˜æ€§èƒ½è¨ˆç®—                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            æ¨™æº–åŒ–å ±å‘Šç”Ÿæˆ                          â”‚
â”‚   â€¢ ç¸¾æ•ˆæŒ‡æ¨™                                      â”‚
â”‚   â€¢ é¢¨éšªè©•ä¼°                                      â”‚
â”‚   â€¢ åƒæ•¸å»ºè­°                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š å­¸ç¿’è³‡æº

1. **å·¥ä½œæµç¨‹èªªæ˜**ï¼šæŸ¥çœ‹ `bmad/core/workflows/vectorbt-strategy-framework/overview.md`
2. **ç­–ç•¥æ¨¡æ¿**ï¼šæŸ¥çœ‹ `bmad/core/workflows/vectorbt-quick-start/workflow.yaml`
3. **å„ªåŒ–å™¨æ–‡æª”**ï¼šæŸ¥çœ‹ `bmad/core/workflows/vectorbt-optimizer/workflow.yaml`

## ğŸ”„ ä¸‹ä¸€æ­¥è¡Œå‹•

### ç«‹å³å¯ç”¨
1. âœ… é‹è¡Œquick-startæ¨¡æ¿æ¸¬è©¦ç­–ç•¥
2. âœ… ä½¿ç”¨strategy-frameworké–‹ç™¼è‡ªå®šç¾©ç­–ç•¥
3. âœ… ä½¿ç”¨optimizeré€²è¡Œåƒæ•¸èª¿å„ª

### è¿‘æœŸæ”¹é€²
1. ğŸ”§ æ·»åŠ æ›´å¤šæ¸¯è‚¡ä»£ç¢¼æ”¯æŒ
2. ğŸ”§ é›†æˆæ©Ÿå™¨å­¸ç¿’æ¨¡å‹
3. ğŸ”§ æ·»åŠ å¯¦æ™‚ç›£æ§åŠŸèƒ½

### é•·æœŸè¦åŠƒ
1. ğŸ“Š Web UIç•Œé¢é–‹ç™¼
2. â˜ï¸ é›²ç«¯éƒ¨ç½²æ”¯æŒ
3. ğŸŒ å¤šè³‡ç”¢é¡åˆ¥æ“´å±•

## ğŸ‰ ç¸½çµ

æˆ‘å€‘å·²ç¶“æˆåŠŸå»ºç«‹äº†ä¸€å€‹**å®Œæ•´ã€æ¨™æº–åŒ–ã€é«˜æ€§èƒ½**çš„vectorbtç­–ç•¥å›æ¸¬æ¡†æ¶ï¼é€™å€‹æ¡†æ¶ï¼š

- âœ… è§£æ±ºäº†å¤šé€²ç¨‹åºåˆ—åŒ–å’Œç·¨ç¢¼å•é¡Œ
- âœ… æ•´åˆäº†OpenSpecçµ±ä¸€æ•¸æ“šæº
- âœ… æ”¯æŒ11ç¨®æŠ€è¡“æŒ‡æ¨™å’Œ1000+åƒæ•¸çµ„åˆ
- âœ… æä¾›äº†å¾å¿«é€Ÿæ¸¬è©¦åˆ°æ·±åº¦å„ªåŒ–çš„å®Œæ•´å·¥ä½œæµç¨‹
- âœ… åŸºæ–¼BMADå·¥ä½œæµç¨‹æ¶æ§‹ï¼Œæ˜“æ–¼æ“´å±•å’Œç¶­è­·

**ç¾åœ¨æ‚¨å¯ä»¥ç«‹å³é–‹å§‹ä½¿ç”¨é€™å€‹æ¡†æ¶é€²è¡Œæ¸¯è‚¡é‡åŒ–ç­–ç•¥é–‹ç™¼ï¼**

---

**å‰µå»ºè€…ï¼šBMad Master & BMad Builder**
**æ—¥æœŸï¼š2025-11-02**
**é …ç›®ï¼švectorbt-strategy-framework v1.0.0**
